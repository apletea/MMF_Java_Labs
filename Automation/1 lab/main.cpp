/*
                           ▓▓▓
                      _▓▓▓▒▒▒▓
                  __▓▓▒▒▒▒▒▒▒▓      ▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
                  ▓▓▒▒▓▓▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓
               _▓▓▒▒▒▓▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓▓      _▓▓▓▓▓▓▓
               ▓▓▒▒▒▓▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓      _▓▓▓▓▓
            _▓▓▒▒▒▒▓▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓      ▓▓
            ▓▓▒▒▒▒▓▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓
           ▓▓▒▒▒▒▓▒▒▒▒▒▒▒▒▒▓░░░░░░▓▓▓▓▒▒▒▓▓▓▓▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓
          ▓▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▓░░░░░░░░░▓▓▓▓▒▒▒▓▓▓▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓▓
          ▓▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▓▓░░░░░░░░░▓▓▓▓▓▒▒▒▓▓▓▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓
          ▓▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▓░░░░░░░░░░▓▓▓▓▓▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓
         _▓▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▓░░░░░▒░░░░░▓▓▓▓▓▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓
         ▓▓▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓░░░▒░░░░░▓▓▓▓▓▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓
        ▓▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓░░░▒░░░░░░▓▓▓▓▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▓▓
      _▓▒▒▓▒▒▒▒▒▒▒▒▒█▒▒▒▒▒▒▒▒▒▒▒▒▒▓░░▒▒░░░░░░▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▓
      ▓▒▒▒▓▒▒▒▒▒▄▒▒▒█▄▀▀▀▀▀▄▄▒▒▒▒▒▒▓▒▒▒░░░░░░░▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓_▓▒▓
     ▓▒▒▒▒▓▒▒▒▒▒▀▄▄▀            ▀▄▒▒▒▒▓▒▒▒░░▓░░░░░▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▓_▓▒▓
    ▓▒▒▒▒▓▒▒▒▒▄▒▄▀                 █▒▒▒▓▓▒▒░▓▒▓░░░░░▓▓▓▒▒▒▒▒▒▒▒▒▒▒▓  ▓▒▓
   _▓▒▒▒▓▓▒▒▒▒▒██         _▓▓▓▓▓▓▓▓▒▒▒▓▓▒▒▓▒▒▓░░░░░▓▓▓▒▒▒▒▒▒▒▒▒▒▓   ▓▒▓
   ▓▒▒▒▓▓▓▒▒▒▒▒█         ▓▓▓▓▓▓▓▓▓▓▒▒▒▓▓▒▓▒▒▒▓░░░░░▓▓▓▒▒▒▒▒▒▒▒▒▒▓   ▓▒▓
  ▓▒▒▓▓▓▓▓▒▒▒▒▒        ▓▓▓▓▓       █▒▒▒▒▓▒▓▒▒▒▒▓░░░░░▓▓▓▒▒▒▒▒▒▒▒▒▓     ▓
  ▓▒▓▓▓▓▓▓▒▒▒▒▒      _▓▓▓▓▓      _ █▒▒▒▒▒▓▒▒▒▒▒▓░░░░░▓▓▓▒▒▒▒▒▒▒▒▒▓
  ▓▓▓▓▓▓▓▓▒▒▒▒▒      ▓▓▓▓▓      ▄███▒▒▒▒▒▒▒▒▒▒▒▓░░░░░░▓▓▒▒▒▒▒▒▒▒▓
  ▓▓▓▓▓▓▓▓▒▒▒▒▒      ▓▓▓▓██▄▄▄████▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓░░░░░▓▓▒▒▒▒▒▒▒▓
  ▓▓▓▓▓▓▓▓▓▒▒▒▒▒     ▓▓▓▓████   ██▒▒▒▒▒▒▒▒▒▓▓▓   _▓░░░░░▓▓▒▒▒▒▒▒▓
  ▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒    ▓▓▓▓████▄▄██▒▒▒▒▒▒▒▒▓▓▓   _██▓░░░░░░▓▒▒▒▒▒▒▓
 ▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒    ▓▓▓▓███████▒▒▒▒▒▒▒▒▓▓▓  ▄███  ▓▓░░░░░▓▒▒▒▒▒▓
  ▓▓▓▓▓▓▓▓▓▓▒▒▒▒▒▒▒   ▓▓▓▓█████▒▒▒▒▒▒▒▒▒▓▓_█▀▀██      ▓▓░░░░▒▒▒▒▒▓
  ▓▓▓▓▓▓▓▓▓▒▓▒▒▒▒▒▒▒  ▓▓▓▓▓███▒▒▒▒▒▒▒▒▒▒▓▓█▄▄█           ▓▓▓░▒▒▒▒▒▓
  ▓▓▓▓▓▓▓▓▓▒▒▓▒▒▒▒▒▒▒▒▒▒▓▓▓▒▒▒▒▒▒▒▒▒▒▓▒▒▓███                 ▓▓▓▒▒▒▒▓
   ▓▓▓▓▓▓▓▓▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▒▒██                       ▓▓▓▒▓
    ▓▓▓▓▓▓▓▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓▓                          ▓▓
    ▓▓▓▓▓▓▓▒▒▒▒▒▒▓▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▓
     ▓▓▓▓▓▓▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒░▓▓▓▒▒▒▒▒▒▒▒▒▒▓
      ▓▓▓▓▓▒▒▒▒▒▒▒▒▒▓▓▓▒▒▒▒▒▒▒░░▓▓▓▓▓▒▒▒▒▓▓▓
       ▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▒▒▒▒░░░▓▓▓▓
         ▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓░▓▓▒▒▒░░░▓
          ▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓░░▓▓▓▓▒▒▓▓
            ▓▒▒▒▒▒▒▒▒▒▒▒▓░░░▒▒▓▓▓▒▓▓
            ▓▒▒▒▒▒▒▒▒▒▒▓░░░▒▒▓▒▒▒▓▓▓
             ▓▒▒▒▒▒▒▒▒▓░░░▒▒▒▓▒▒▒▓▓▓▓
             ▓▒▒▒▒▒▒▒▓░░▒▒▒▒▓▒▒▒▓▓▓▓
             ▓▒▒▒▒▒▒▓░░▒▒▒▒▓▒▒▒▓▓▓▓▓
              ▓▒▒▒▒▓░░▒▒▒▓▓▒▒▒▓▓▓▓▓▓
              ▓▒▒▒▓░░▒▒▒▓▓▒▒▒▓▓▓▓▓▓
               ▓▒▓░░▒▒▒▓▒▒▒▓▓▓▓▓▓▓
                ▓▓░▒▒▓_▓▒▒▒▓▓▓▓▓▓
                ▓░░▒▓ ▓▒▒▒▓▓▓▓▓▓
                 ▓░▒▓ ▓▒▒▓▓▓▓▓▓
                  ▓▒▓ ▓▒▓▓▓▓▓
                   ▓▓ ▓▓▓▓▓▓
                       ▓▓▓▓▓
                        ▓▓▓
                        ▓▓
                         ▓
*/

#include <bits/stdc++.h>

namespace mlavg // my little avg
{
class more_avg
{
public:
    std::map<std::pair<std::string,int>,std::vector<int>> mp;

    void fill_avg(std::string str)
    {
        std::stringstream in(str);
        std::string segment;
        int mark;
        std::getline(in,segment,' ');
        mark  = std::stoi(segment);
        for (auto row : rows)
        {
            std::getline(in,segment,' ');
            int id_at_row = std::stoi(segment);
            std::pair<std::string,int> pr = {row,id_at_row};
            if (mp.find(pr)==mp.end())
            {
                std::vector<int> arr = {};
                mp[pr] = arr;
            }
            mp[pr].push_back(mark);
        }
    }
    double get_avg_of_something(int id, std::string & str)
    {
        std::pair<std::string, int> pr = {str,id};
        std::vector<int> arr = mp[pr];
        double ans = 1.0*(std::accumulate(arr.begin(),arr.end(),0))/arr.size();
        return ans;
    }
private:
    std::vector<std::string> rows = {"student","facultie","group","course","university"};
};
}


int main(int argc, char * argv[])
{
    std::string students = argv[1];
    std::ifstream in(students);
    mlavg::more_avg * instance = new mlavg::more_avg;
    std::string tmp;
    std::getline(in,tmp);
    while(std::getline(in,tmp))
    {
        instance->fill_avg(tmp);
    }
    // get avg of university_id = 1, facultie_id = 1, group_id = 1, course_id = 1, student_id = 1
    std::vector<std::string> rows = {"student","facultie","group","course","university"};
    for (auto row : rows)
    {
        std::cout << row << " id = " << 1 << "  avg = " << instance->get_avg_of_something(1 ,row) << std::endl;
    }
    return 0;
}


